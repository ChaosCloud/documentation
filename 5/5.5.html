<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>PackageRepository | Go Developer Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GoCD">
        <meta name="description" content="Documentation describing the development environment, technology stack and architecture of Go.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        
        <link rel="prev" href="../5/5.4.html" />
        

        <meta property="og:title" content="PackageRepository | Go Developer Documentation">
        <meta property="og:site_name" content="Go Developer Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GoCD">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="GoCD/documentation" data-level="5.5" data-basepath=".." data-revision="1400133467948">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="http://go.cd" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/GoCD/documentation/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GoCD/documentation/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Go Developer Documentation</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/gocd/documentation/" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/gocd/documentation/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/gocd/documentation/" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" >
                
                <span><b>1.</b> Concepts in Go</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="1/1.1.html">
                            
                            <a href="../1/1.1.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Domain
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" >
                            
                            <span><b>1.2.</b> Implementation</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" >
                
                <span><b>2.</b> Getting Started</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="2/2.1.html">
                            
                            <a href="../2/2.1.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Setting up your development environment
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="2/2.2.html">
                            
                            <a href="../2/2.2.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> How to go about making changes to the codebase
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="2/2.3.html">
                            
                            <a href="../2/2.3.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> How to add a configuration migration
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="2/2.4.html">
                            
                            <a href="../2/2.4.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> How to add a database migration
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" >
                
                <span><b>3.</b> Technology Stack</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" >
                            
                            <span><b>3.1.</b> Plugins Architecture - OSGi</span>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="3/3.2.html">
                            
                            <a href="../3/3.2.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Object Relation Mapping (ORM) - Hibernate &amp; IBatis
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" >
                            
                            <span><b>3.3.</b> Caching - EhCache</span>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="3/3.4.html">
                            
                            <a href="../3/3.4.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Dependency Injection (DI) - Spring
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" >
                            
                            <span><b>3.5.</b> Model View Controller (MVC)</span>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="3/3.6.html">
                            
                            <a href="../3/3.6.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" >
                            
                            <span><b>3.7.</b> Build Tool - Buildr</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" >
                
                <span><b>4.</b> Architecture of Go</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="4/4.1.html">
                            
                            <a href="../4/4.1.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Overview
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="4/4.2.html">
                            
                            <a href="../4/4.2.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Go Server
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="4/4.3.html">
                            
                            <a href="../4/4.3.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Go Agent
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="4/4.4.html">
                            
                            <a href="../4/4.4.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Common
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="4/4.5.html">
                            
                            <a href="../4/4.5.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Build Infrastructure
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" >
                
                <span><b>5.</b> Features</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="5/5.1.html">
                            
                            <a href="../5/5.1.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Dashboard
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="5/5.2.html">
                            
                            <a href="../5/5.2.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Fan-in
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="5/5.3.html">
                            
                            <a href="../5/5.3.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Value Stream Map
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="5/5.4.html">
                            
                            <a href="../5/5.4.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Compare Pipeline
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="5/5.5.html">
                            
                            <a href="../5/5.5.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> PackageRepository
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.6" >
                            
                            <span><b>5.6.</b> Command Repository</span>
                            
                        </li>
                    
                        <li  data-level="5.7" data-path="5/5.7.html">
                            
                            <a href="../5/5.7.html">
                                <i class="fa fa-check"></i> <b>5.7.</b> Environments
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.8" >
                            
                            <span><b>5.8.</b> Templates</span>
                            
                        </li>
                    
                        <li  data-level="5.9" >
                            
                            <span><b>5.9.</b> Shine</span>
                            
                        </li>
                    
                        <li  data-level="5.10" data-path="5/5.10.html">
                            
                            <a href="../5/5.10.html">
                                <i class="fa fa-check"></i> <b>5.10.</b> OAuth Gadgets
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.11" data-path="5/5.11.html">
                            
                            <a href="../5/5.11.html">
                                <i class="fa fa-check"></i> <b>5.11.</b> Backup
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" >
                
                <span><b>6.</b> CD in practice</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" >
                            
                            <span><b>6.1.</b> Build Go Using Go</span>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="6/6.2.html">
                            
                            <a href="../6/6.2.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Test Infrastructure
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" >
                            
                            <span><b>6.3.</b> Continuous Deployment</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" >
                
                <span><b>7.</b> Miscellaneous</span>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="7/7.1.html">
                            
                            <a href="../7/7.1.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Technical Debt
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 86.95652173913044%;min-width: 82.6086956521739%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../1/1.1.html" title="Domain" class="chapter done " data-progress="1.1" style="left: 4.3478260869565215%;"></a>
    
        <a href="../2/2.1.html" title="Setting up your development environment" class="chapter done " data-progress="2.1" style="left: 8.695652173913043%;"></a>
    
        <a href="../2/2.2.html" title="How to go about making changes to the codebase" class="chapter done " data-progress="2.2" style="left: 13.043478260869565%;"></a>
    
        <a href="../2/2.3.html" title="How to add a configuration migration" class="chapter done " data-progress="2.3" style="left: 17.391304347826086%;"></a>
    
        <a href="../2/2.4.html" title="How to add a database migration" class="chapter done " data-progress="2.4" style="left: 21.73913043478261%;"></a>
    
        <a href="../3/3.2.html" title="Object Relation Mapping (ORM) - Hibernate &amp; IBatis" class="chapter done " data-progress="3.2" style="left: 26.08695652173913%;"></a>
    
        <a href="../3/3.4.html" title="Dependency Injection (DI) - Spring" class="chapter done " data-progress="3.4" style="left: 30.434782608695652%;"></a>
    
        <a href="../3/3.6.html" title="User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML" class="chapter done " data-progress="3.6" style="left: 34.78260869565217%;"></a>
    
        <a href="../4/4.1.html" title="Overview" class="chapter done " data-progress="4.1" style="left: 39.130434782608695%;"></a>
    
        <a href="../4/4.2.html" title="Go Server" class="chapter done " data-progress="4.2" style="left: 43.47826086956522%;"></a>
    
        <a href="../4/4.3.html" title="Go Agent" class="chapter done " data-progress="4.3" style="left: 47.82608695652174%;"></a>
    
        <a href="../4/4.4.html" title="Common" class="chapter done " data-progress="4.4" style="left: 52.17391304347826%;"></a>
    
        <a href="../4/4.5.html" title="Build Infrastructure" class="chapter done " data-progress="4.5" style="left: 56.52173913043478%;"></a>
    
        <a href="../5/5.1.html" title="Dashboard" class="chapter done " data-progress="5.1" style="left: 60.869565217391305%;"></a>
    
        <a href="../5/5.10.html" title="OAuth Gadgets" class="chapter done " data-progress="5.10" style="left: 65.21739130434783%;"></a>
    
        <a href="../5/5.11.html" title="Backup" class="chapter done " data-progress="5.11" style="left: 69.56521739130434%;"></a>
    
        <a href="../5/5.2.html" title="Fan-in" class="chapter done " data-progress="5.2" style="left: 73.91304347826087%;"></a>
    
        <a href="../5/5.3.html" title="Value Stream Map" class="chapter done " data-progress="5.3" style="left: 78.26086956521739%;"></a>
    
        <a href="../5/5.4.html" title="Compare Pipeline" class="chapter done " data-progress="5.4" style="left: 82.6086956521739%;"></a>
    
        <a href="../5/5.5.html" title="PackageRepository" class="chapter done " data-progress="5.5" style="left: 86.95652173913044%;"></a>
    
        <a href="../5/5.7.html" title="Environments" class="chapter  " data-progress="5.7" style="left: 91.30434782608695%;"></a>
    
        <a href="../6/6.2.html" title="Test Infrastructure" class="chapter  " data-progress="6.2" style="left: 95.65217391304348%;"></a>
    
        <a href="../7/7.1.html" title="Technical Debt" class="chapter  " data-progress="7.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_3554">
                    
                        <h2 id="5-5-packagerepository">5.5 PackageRepository</h2>
<h3 id="5-5-1-overview">5.5.1 Overview</h3>
<p>A package repository typically holds a set of packages, each of which can have multiple versions. Package repository material allows Go to trigger a pipeline(s) when a newer version of a
package is published. Package repository and package are represented as PackageRepository and PackageDefinition respectively in Go.</p>
<p>PackageRepository consists of name, id, list of ConfigurationProperty represented as Configuration, list PackageDefinition represented as Packages
and PluginConfiguration which controls PackageRepository.</p>
<p>PackageDefinition consists of name, id, list of ConfigurationProperty represented as Configuration.</p>
<p>Configuration consists of list of ConfigurationProperty. Every ConfigurationProperty  consists of key name and value, value could be encrypted if property is secure.</p>
<p>PluginConfiguration for a PackageRepository specifies plugin which is going control Configuration and communication with actual package repository.</p>
<p>PackageMaterial captures association between PackageDefinition and a Pipeline. Each PackageMaterial will be uniquely identified by combination of PackageRepository and
PackageDefinition Configuration. Plugin associated with PackageRepository will decide if a ConfigurationProperty should be considered to uniquely identify PackageMaterial.</p>
<p>PackageMaterialPoller handles all communication between Go and PackageMaterial plugins.</p>
<h4 id="5-5-2-capturing-configuration-">5.5.2  Capturing Configuration:</h4>
<p>When Go is required to capture Configuration a for PackageRepository, it will contact associated plugin for the configuration metadata. Configuration metadata is captured only once during Go
server startup and same information is cached for later usage. Once Configuration for a PackageRepository is captured from user, it will be stored in config file and database.</p>
<h4 id="5-5-3-retrieving-package-revisions-">5.5.3  Retrieving Package Revisions:</h4>
<p>When a MaterialUpdateService kicks-in, all unique PackageMaterial will be identified. For each unique PackageMaterial, associated plugin will be invoked for the latest revision. All the
Configuration of PackageMaterial will be sent to plugin during this invocation. Once plugin return latest PackageRevision, the same will be persisted in database like any other material revision.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../5/5.4.html" class="navigation navigation-prev navigation-unique"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
