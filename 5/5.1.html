<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Dashboard | Go Developer Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GoCD">
        <meta name="description" content="Documentation describing the development environment, technology stack and architecture of Go.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../5/5.2.html" />
        
        
        <link rel="prev" href="../5/5.1.html" />
        

        <meta property="og:title" content="Dashboard | Go Developer Documentation">
        <meta property="og:site_name" content="Go Developer Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GoCD">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="GoCD/documentation" data-level="5.1" data-basepath=".." data-revision="1400136526630">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="http://go.cd" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/GoCD/documentation/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GoCD/documentation/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Go Developer Documentation</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/gocd/documentation/" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/gocd/documentation/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/gocd/documentation/" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="1/1.1.html">
                
                <a href="../1/1.1.html">
                    <i class="fa fa-check"></i> <b>1.</b> Concepts in Go
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="1/1.1.html">
                            
                            <a href="../1/1.1.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Domain
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" >
                            
                            <span><b>1.2.</b> Implementation</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="2/2.1.html">
                
                <a href="../2/2.1.html">
                    <i class="fa fa-check"></i> <b>2.</b> Getting Started
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="2/2.1.html">
                            
                            <a href="../2/2.1.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Setting up your development environment
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="2/2.2.html">
                            
                            <a href="../2/2.2.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> How to go about making changes to the codebase
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="2/2.3.html">
                            
                            <a href="../2/2.3.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> How to add a configuration migration
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="2/2.4.html">
                            
                            <a href="../2/2.4.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> How to add a database migration
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="3/3.1.html">
                
                <a href="../3/3.1.html">
                    <i class="fa fa-check"></i> <b>3.</b> Technology Stack
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="3/3.1.html">
                            
                            <a href="../3/3.1.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Plugins Architecture - OSGi
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="3/3.2.html">
                            
                            <a href="../3/3.2.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Object Relation Mapping (ORM) - Hibernate &amp; IBatis
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" >
                            
                            <span><b>3.3.</b> Caching - EhCache</span>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="3/3.4.html">
                            
                            <a href="../3/3.4.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Dependency Injection (DI) - Spring
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" >
                            
                            <span><b>3.5.</b> Model View Controller (MVC)</span>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="3/3.6.html">
                            
                            <a href="../3/3.6.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" >
                            
                            <span><b>3.7.</b> Build Tool - Buildr</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="4/4.1.html">
                
                <a href="../4/4.1.html">
                    <i class="fa fa-check"></i> <b>4.</b> Architecture of Go
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="4/4.1.html">
                            
                            <a href="../4/4.1.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Overview
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="4/4.2.html">
                            
                            <a href="../4/4.2.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Go Server
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="4/4.3.html">
                            
                            <a href="../4/4.3.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Go Agent
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="4/4.4.html">
                            
                            <a href="../4/4.4.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Common
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="4/4.5.html">
                            
                            <a href="../4/4.5.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Build Infrastructure
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="5/5.1.html">
                
                <a href="../5/5.1.html">
                    <i class="fa fa-check"></i> <b>5.</b> Features
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="5/5.1.html">
                            
                            <a href="../5/5.1.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Dashboard
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="5/5.2.html">
                            
                            <a href="../5/5.2.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Fan-in
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="5/5.3.html">
                            
                            <a href="../5/5.3.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Value Stream Map
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="5/5.4.html">
                            
                            <a href="../5/5.4.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Compare Pipeline
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="5/5.5.html">
                            
                            <a href="../5/5.5.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> PackageRepository
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.6" >
                            
                            <span><b>5.6.</b> Command Repository</span>
                            
                        </li>
                    
                        <li  data-level="5.7" data-path="5/5.7.html">
                            
                            <a href="../5/5.7.html">
                                <i class="fa fa-check"></i> <b>5.7.</b> Environments
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.8" >
                            
                            <span><b>5.8.</b> Templates</span>
                            
                        </li>
                    
                        <li  data-level="5.9" >
                            
                            <span><b>5.9.</b> Shine</span>
                            
                        </li>
                    
                        <li  data-level="5.10" data-path="5/5.10.html">
                            
                            <a href="../5/5.10.html">
                                <i class="fa fa-check"></i> <b>5.10.</b> OAuth Gadgets
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.11" data-path="5/5.11.html">
                            
                            <a href="../5/5.11.html">
                                <i class="fa fa-check"></i> <b>5.11.</b> Backup
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="6/6.1.html">
                
                <a href="../6/6.1.html">
                    <i class="fa fa-check"></i> <b>6.</b> CD in practice
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="6/6.1.html">
                            
                            <a href="../6/6.1.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Build Go Using Go
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="6/6.2.html">
                            
                            <a href="../6/6.2.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Test Infrastructure
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" >
                            
                            <span><b>6.3.</b> Continuous Deployment</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="7/7.1.html">
                
                <a href="../7/7.1.html">
                    <i class="fa fa-check"></i> <b>7.</b> Miscellaneous
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="7/7.1.html">
                            
                            <a href="../7/7.1.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Technical Debt
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 60%;min-width: 56%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../1/1.1.html" title="Domain" class="chapter done " data-progress="1.1" style="left: 4%;"></a>
    
        <a href="../2/2.1.html" title="Setting up your development environment" class="chapter done " data-progress="2.1" style="left: 8%;"></a>
    
        <a href="../2/2.2.html" title="How to go about making changes to the codebase" class="chapter done " data-progress="2.2" style="left: 12%;"></a>
    
        <a href="../2/2.3.html" title="How to add a configuration migration" class="chapter done " data-progress="2.3" style="left: 16%;"></a>
    
        <a href="../2/2.4.html" title="How to add a database migration" class="chapter done " data-progress="2.4" style="left: 20%;"></a>
    
        <a href="../3/3.1.html" title="Plugins Architecture - OSGi" class="chapter done " data-progress="3.1" style="left: 24%;"></a>
    
        <a href="../3/3.2.html" title="Object Relation Mapping (ORM) - Hibernate &amp; IBatis" class="chapter done " data-progress="3.2" style="left: 28%;"></a>
    
        <a href="../3/3.4.html" title="Dependency Injection (DI) - Spring" class="chapter done " data-progress="3.4" style="left: 32%;"></a>
    
        <a href="../3/3.6.html" title="User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML" class="chapter done " data-progress="3.6" style="left: 36%;"></a>
    
        <a href="../4/4.1.html" title="Overview" class="chapter done " data-progress="4.1" style="left: 40%;"></a>
    
        <a href="../4/4.2.html" title="Go Server" class="chapter done " data-progress="4.2" style="left: 44%;"></a>
    
        <a href="../4/4.3.html" title="Go Agent" class="chapter done " data-progress="4.3" style="left: 48%;"></a>
    
        <a href="../4/4.4.html" title="Common" class="chapter done " data-progress="4.4" style="left: 52%;"></a>
    
        <a href="../4/4.5.html" title="Build Infrastructure" class="chapter done " data-progress="4.5" style="left: 56%;"></a>
    
        <a href="../5/5.1.html" title="Dashboard" class="chapter done " data-progress="5.1" style="left: 60%;"></a>
    
        <a href="../5/5.10.html" title="OAuth Gadgets" class="chapter  " data-progress="5.10" style="left: 64%;"></a>
    
        <a href="../5/5.11.html" title="Backup" class="chapter  " data-progress="5.11" style="left: 68%;"></a>
    
        <a href="../5/5.2.html" title="Fan-in" class="chapter  " data-progress="5.2" style="left: 72%;"></a>
    
        <a href="../5/5.3.html" title="Value Stream Map" class="chapter  " data-progress="5.3" style="left: 76%;"></a>
    
        <a href="../5/5.4.html" title="Compare Pipeline" class="chapter  " data-progress="5.4" style="left: 80%;"></a>
    
        <a href="../5/5.5.html" title="PackageRepository" class="chapter  " data-progress="5.5" style="left: 84%;"></a>
    
        <a href="../5/5.7.html" title="Environments" class="chapter  " data-progress="5.7" style="left: 88%;"></a>
    
        <a href="../6/6.1.html" title="Build Go Using Go" class="chapter  " data-progress="6.1" style="left: 92%;"></a>
    
        <a href="../6/6.2.html" title="Test Infrastructure" class="chapter  " data-progress="6.2" style="left: 96%;"></a>
    
        <a href="../7/7.1.html" title="Technical Debt" class="chapter  " data-progress="7.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_514">
                    
                        <h2 id="5-1-dashboard">5.1 Dashboard</h2>
<p>In the context of Go, the landing page is often called the <em>dashboard</em>. The dashboard presents the user with a view of all the pipelines that he/she is authorized to view. The dashboard contains the below listed functional areas:</p>
<ul>
<li>Personalise</li>
<li>Search</li>
<li>Pipeline Group(s) &amp; Pipeline(s)</li>
</ul>
<h3 id="5-1-1-personalise">5.1.1 Personalise</h3>
<p>A user can blacklist the set of pipelines that he/she does not wish to view on the dashboard. This blacklisting is stored as a comma-separated list in the database under the table named <strong>pipelineselections</strong>. The table is tied to a user via the <em>userid</em> column.</p>
<pre><code>                             +------------------------+
                             |   PIPELINESELECTIONS   |
                             |------------------------|
                             |                        |
                             |          id            |
                             |                        |
                             |   unselectedpipelines  |
                             |                        |
                             |       lastupdate       |
                             |                        |
                             |        userid          |
                             |                        |
                             +------------------------+
</code></pre><blockquote>
<p>In case of anonymous access, every user share the dashboard configuration and every personalise operation overwrites the previous value.</p>
</blockquote>
<h3 id="5-1-2-search">5.1.2 Search</h3>
<p>Client side search is achieved using Javascript and DOM manipulation. The file named <em>jquery.listsearch.js</em> has the implementation.</p>
<h3 id="5-1-3-pipeline-group-s-">5.1.3 Pipeline Group(s)</h3>
<p>Pipeline groups were meant to provide logical grouping of pipelines that might share a similar purpose. With reference to domain, <code>com.thoughtworks.go.config.PipelineConfigs</code> represents the entity. Group information are not persisted in the database and its only purpose is to achive grouping among the different pipelines in the system. Apart from grouping, it also allows finer grained permission model (<code>com.thoughtworks.go.config.Authorization</code>) that authorizes access to the group.</p>
<p>You can read more about the dashboard layout in the <a href="http://www.thoughtworks.com/products/docs/go/current/help/Pipelines_Dashboard_page.html" target="_blank">user docs</a>.</p>
<h3 id="5-1-4-pipeline-s-and-ordering-of-pipeline-instances">5.1.4 Pipeline(s) and Ordering of pipeline instances</h3>
<p>Pipelines have two representations with reference to Go. There is the pipeline configuration represented by  <code>com.thoughtworks.go.config.PipelineConfig</code>, and an instance of a pipeline run represented by  <code>com.thoughtworks.go.domain.Pipeline</code>.</p>
<p>Each pipeline run that shows up on the dashboard are ordered based on a certain logic. In Go, we use two distinct ordering methods:</p>
<ul>
<li><strong>Schedule order</strong>: Chronological order in which pipelines are scheduled.</li>
<li><strong>Natural order</strong>: Chronological order of pipelines based on material modification time, i.e., based on your check-in time.</li>
</ul>
<p>The <em>natural order</em> of a pipeline instance is persisted along with other pipeline instance details. In Go domain, <code>com.thoughtworks.go.domain.Pipeline</code> represent a pipeline instance. Natural order computation is performed by</p>
<pre><code class="lang-java">    com.thoughtworks.go.domain.PipelineTimelineEntry

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> <span class="hljs-title">calculateNaturalOrder</span>() {
        <span class="hljs-keyword">double</span> previous = <span class="hljs-number">0.0</span>;
        <span class="hljs-keyword">if</span> (insertedAfter != <span class="hljs-keyword">null</span>) {
            previous = insertedAfter.naturalOrder;
        }
        <span class="hljs-keyword">if</span> (insertedBefore != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> (previous + insertedBefore.naturalOrder) / <span class="hljs-number">2.0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> previous + <span class="hljs-number">1.0</span>;
        }
    }
</code></pre>
<h3 id="5-1-5-active-pipelines">5.1.5 Active Pipelines</h3>
<p>Any pipeline instance which</p>
<ul>
<li>is the latest run of that pipeline configuration</li>
<li>has a stage instance which has not been <em>completed</em> yet</li>
</ul>
<p>is categorised as an <strong>active pipeline</strong> in Go. Because the number of pipeline instances increases over time, querying the <em>PIPELINE</em> table might be a slow operation over time. To help speed up the dashboard load, we prime the cache with all <em>active pipelines</em> data during startup. An instance model ( <code>com.thoughtworks.go.presentation.pipelinehistory.PipelineInstanceModel</code>) is used to represent the model data that is used by the dashboard to render.</p>
<p>Loading of all <em>active pipelines</em> can be traced from <code>com.thoughtworks.go.server.dao.PipelineSqlMapDao#loadActivePipelines</code> method.</p>
<pre><code class="lang-java">    <span class="hljs-keyword">public</span> PipelineInstanceModels <span class="hljs-title">loadActivePipelines</span>() {
        String cacheKey = activePipelinesCacheKey();
        Map&lt;String, TreeSet&lt;Long&gt;&gt; result = (Map&lt;String, TreeSet&lt;Long&gt;&gt;) goCache.get(cacheKey);
        <span class="hljs-keyword">if</span> (result == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">synchronized</span> (cacheKey) {
                result = (Map&lt;String, TreeSet&lt;Long&gt;&gt;) goCache.get(cacheKey);
                <span class="hljs-keyword">if</span> (result == <span class="hljs-keyword">null</span>) {
                    List&lt;PipelineInstanceModel&gt; pipelines = getAllPIMs();
                    result = groupPipelineInstanceIdsByPipelineName(pipelines);
                    goCache.put(cacheKey, result);
                }
            }
        }
        <span class="hljs-keyword">return</span> convertToPipelineInstanceModels(result);
    }
</code></pre>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../5/5.1.html" class="navigation navigation-prev "><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../5/5.2.html" class="navigation navigation-next "><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
