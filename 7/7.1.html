<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Technical Debt | Go Developer Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GoCD">
        <meta name="description" content="Documentation describing the development environment, technology stack and architecture of Go.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        
        <link rel="prev" href="../7/7.1.html" />
        

        <meta property="og:title" content="Technical Debt | Go Developer Documentation">
        <meta property="og:site_name" content="Go Developer Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GoCD">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="GoCD/documentation" data-level="7.1" data-basepath=".." data-revision="1400136526630">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="http://go.cd" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/GoCD/documentation/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GoCD/documentation/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Go Developer Documentation</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/gocd/documentation/" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/gocd/documentation/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/gocd/documentation/" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="1/1.1.html">
                
                <a href="../1/1.1.html">
                    <i class="fa fa-check"></i> <b>1.</b> Concepts in Go
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="1/1.1.html">
                            
                            <a href="../1/1.1.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Domain
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" >
                            
                            <span><b>1.2.</b> Implementation</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="2/2.1.html">
                
                <a href="../2/2.1.html">
                    <i class="fa fa-check"></i> <b>2.</b> Getting Started
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="2/2.1.html">
                            
                            <a href="../2/2.1.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Setting up your development environment
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="2/2.2.html">
                            
                            <a href="../2/2.2.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> How to go about making changes to the codebase
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="2/2.3.html">
                            
                            <a href="../2/2.3.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> How to add a configuration migration
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="2/2.4.html">
                            
                            <a href="../2/2.4.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> How to add a database migration
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="3/3.1.html">
                
                <a href="../3/3.1.html">
                    <i class="fa fa-check"></i> <b>3.</b> Technology Stack
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="3/3.1.html">
                            
                            <a href="../3/3.1.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Plugins Architecture - OSGi
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="3/3.2.html">
                            
                            <a href="../3/3.2.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Object Relation Mapping (ORM) - Hibernate &amp; IBatis
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" >
                            
                            <span><b>3.3.</b> Caching - EhCache</span>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="3/3.4.html">
                            
                            <a href="../3/3.4.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Dependency Injection (DI) - Spring
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" >
                            
                            <span><b>3.5.</b> Model View Controller (MVC)</span>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="3/3.6.html">
                            
                            <a href="../3/3.6.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" >
                            
                            <span><b>3.7.</b> Build Tool - Buildr</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="4/4.1.html">
                
                <a href="../4/4.1.html">
                    <i class="fa fa-check"></i> <b>4.</b> Architecture of Go
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="4/4.1.html">
                            
                            <a href="../4/4.1.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Overview
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="4/4.2.html">
                            
                            <a href="../4/4.2.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Go Server
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="4/4.3.html">
                            
                            <a href="../4/4.3.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Go Agent
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="4/4.4.html">
                            
                            <a href="../4/4.4.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Common
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="4/4.5.html">
                            
                            <a href="../4/4.5.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Build Infrastructure
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="5/5.1.html">
                
                <a href="../5/5.1.html">
                    <i class="fa fa-check"></i> <b>5.</b> Features
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="5/5.1.html">
                            
                            <a href="../5/5.1.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Dashboard
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="5/5.2.html">
                            
                            <a href="../5/5.2.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Fan-in
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="5/5.3.html">
                            
                            <a href="../5/5.3.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Value Stream Map
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="5/5.4.html">
                            
                            <a href="../5/5.4.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Compare Pipeline
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="5/5.5.html">
                            
                            <a href="../5/5.5.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> PackageRepository
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.6" >
                            
                            <span><b>5.6.</b> Command Repository</span>
                            
                        </li>
                    
                        <li  data-level="5.7" data-path="5/5.7.html">
                            
                            <a href="../5/5.7.html">
                                <i class="fa fa-check"></i> <b>5.7.</b> Environments
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.8" >
                            
                            <span><b>5.8.</b> Templates</span>
                            
                        </li>
                    
                        <li  data-level="5.9" >
                            
                            <span><b>5.9.</b> Shine</span>
                            
                        </li>
                    
                        <li  data-level="5.10" data-path="5/5.10.html">
                            
                            <a href="../5/5.10.html">
                                <i class="fa fa-check"></i> <b>5.10.</b> OAuth Gadgets
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.11" data-path="5/5.11.html">
                            
                            <a href="../5/5.11.html">
                                <i class="fa fa-check"></i> <b>5.11.</b> Backup
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="6/6.1.html">
                
                <a href="../6/6.1.html">
                    <i class="fa fa-check"></i> <b>6.</b> CD in practice
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="6/6.1.html">
                            
                            <a href="../6/6.1.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Build Go Using Go
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="6/6.2.html">
                            
                            <a href="../6/6.2.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Test Infrastructure
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" >
                            
                            <span><b>6.3.</b> Continuous Deployment</span>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="7/7.1.html">
                
                <a href="../7/7.1.html">
                    <i class="fa fa-check"></i> <b>7.</b> Miscellaneous
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="7/7.1.html">
                            
                            <a href="../7/7.1.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Technical Debt
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 100%;min-width: 96%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../1/1.1.html" title="Domain" class="chapter done " data-progress="1.1" style="left: 4%;"></a>
    
        <a href="../2/2.1.html" title="Setting up your development environment" class="chapter done " data-progress="2.1" style="left: 8%;"></a>
    
        <a href="../2/2.2.html" title="How to go about making changes to the codebase" class="chapter done " data-progress="2.2" style="left: 12%;"></a>
    
        <a href="../2/2.3.html" title="How to add a configuration migration" class="chapter done " data-progress="2.3" style="left: 16%;"></a>
    
        <a href="../2/2.4.html" title="How to add a database migration" class="chapter done " data-progress="2.4" style="left: 20%;"></a>
    
        <a href="../3/3.1.html" title="Plugins Architecture - OSGi" class="chapter done " data-progress="3.1" style="left: 24%;"></a>
    
        <a href="../3/3.2.html" title="Object Relation Mapping (ORM) - Hibernate &amp; IBatis" class="chapter done " data-progress="3.2" style="left: 28%;"></a>
    
        <a href="../3/3.4.html" title="Dependency Injection (DI) - Spring" class="chapter done " data-progress="3.4" style="left: 32%;"></a>
    
        <a href="../3/3.6.html" title="User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML" class="chapter done " data-progress="3.6" style="left: 36%;"></a>
    
        <a href="../4/4.1.html" title="Overview" class="chapter done " data-progress="4.1" style="left: 40%;"></a>
    
        <a href="../4/4.2.html" title="Go Server" class="chapter done " data-progress="4.2" style="left: 44%;"></a>
    
        <a href="../4/4.3.html" title="Go Agent" class="chapter done " data-progress="4.3" style="left: 48%;"></a>
    
        <a href="../4/4.4.html" title="Common" class="chapter done " data-progress="4.4" style="left: 52%;"></a>
    
        <a href="../4/4.5.html" title="Build Infrastructure" class="chapter done " data-progress="4.5" style="left: 56%;"></a>
    
        <a href="../5/5.1.html" title="Dashboard" class="chapter done " data-progress="5.1" style="left: 60%;"></a>
    
        <a href="../5/5.10.html" title="OAuth Gadgets" class="chapter done " data-progress="5.10" style="left: 64%;"></a>
    
        <a href="../5/5.11.html" title="Backup" class="chapter done " data-progress="5.11" style="left: 68%;"></a>
    
        <a href="../5/5.2.html" title="Fan-in" class="chapter done " data-progress="5.2" style="left: 72%;"></a>
    
        <a href="../5/5.3.html" title="Value Stream Map" class="chapter done " data-progress="5.3" style="left: 76%;"></a>
    
        <a href="../5/5.4.html" title="Compare Pipeline" class="chapter done " data-progress="5.4" style="left: 80%;"></a>
    
        <a href="../5/5.5.html" title="PackageRepository" class="chapter done " data-progress="5.5" style="left: 84%;"></a>
    
        <a href="../5/5.7.html" title="Environments" class="chapter done " data-progress="5.7" style="left: 88%;"></a>
    
        <a href="../6/6.1.html" title="Build Go Using Go" class="chapter done " data-progress="6.1" style="left: 92%;"></a>
    
        <a href="../6/6.2.html" title="Test Infrastructure" class="chapter done " data-progress="6.2" style="left: 96%;"></a>
    
        <a href="../7/7.1.html" title="Technical Debt" class="chapter done " data-progress="7.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_524">
                    
                        <h2 id="7-1-technical-debt">7.1 Technical Debt</h2>
<p>Most codebases which have been worked on by many people, over a long, long time, usually have some parts which are not very nice. Here are some parts of the Go codebase (in no particular order) which could do with cleaning up -</p>
<h3 id="7-1-1-hibernate-and-ibatis-both-used">7.1.1 Hibernate and iBatis - Both used</h3>
<h4 id="description">Description</h4>
<p>Some of the DAOs in the Go codebase still use iBatis. Some use Hibernate. This causes, for instance, the transaction
management to be more complicated than it should be. It also stops Go from easily supporting multiple databases.</p>
<h4 id="history">History</h4>
<p>It was a planned and slow strangler move from iBatis to Hibernate, which got slower over time, rather than quicker.</p>
<h4 id="moving-forward">Moving forward</h4>
<p>Need to move iBatis code over to Hibernate whenever any work around an area is done. Might need to allocate some time
specifically to move, too.</p>
<h3 id="7-1-2-old-version-of-jruby-and-rails-in-codebase">7.1.2 Old version of JRuby and Rails in codebase</h3>
<h4 id="description">Description</h4>
<p>Go uses a 2.3.x release of Rails, which recently got deprecated. Probably don&#39;t need to say much more about this. :(
It causes Go to not be able to take advantage of new improvements in Rails. Causes people to have to use antiquated
Rails contructs rather than the new ones.</p>
<h4 id="history">History</h4>
<p>It&#39;s a daunting task, because of API changes in Rails, dependency on JRuby, RSpec and other gems. It feels like one
upgrade was missed a few years ago and then it was too late.</p>
<h4 id="moving-forward">Moving forward</h4>
<p>Will need to first upgrade JRuby and Jetty to the newer revisions, since newer Rails releases do not support the old
JRuby revision that is used (corresponds to Ruby 1.8.6). Then, need to do a pretty big upgrade to all Rails code in
the codebase. Need to bring in Bundler into the codebase for gem management. Biggest hurdles will be:</p>
<ol>
<li><p>Default ERB syntax has changed, so most ERB files will not work out of the box, but will silently fail when viewed
(will show ERB code on the rendered page).</p>
</li>
<li><p>RSpec needs to be upgraded, since the old gem will not work with the new JRuby/Rails combination. Most tests will
fail.</p>
</li>
</ol>
<h3 id="7-1-3-use-of-velocity-for-views">7.1.3 Use of velocity for views</h3>
<h3 id="7-1-4-remove-old-view-usage-in-acceptance-get-delete-those-views">7.1.4 Remove old view usage in acceptance &amp; get delete those views</h3>
<h3 id="7-1-5-util-module-should-be-used-only-by-server-">7.1.5 ‘util’ module should be used only by ‘server’</h3>
<h3 id="7-1-6-javascript-frameworks">7.1.6 Javascript frameworks</h3>
<h4 id="description">Description</h4>
<ol>
<li><p>Prototype and jQuery: Should migrate to jQuery. There are a few pages which still use Prototype.</p>
</li>
<li><p>JSUnit: Should move to a more modern Javascript unit-testing framework. Though JSUnit is not very bad, the feedback
loop is a little slow because the JSUnit server needs to be restarted every time the JS code changes, while
testing. A framework like Jasmine will work better.</p>
</li>
<li><p>Some Javascript code needs refactoring/remodeling. For instance, vsm_renderer.js has tests, but is not well
organized.</p>
</li>
</ol>
<h4 id="history">History</h4>
<p>A consequence of a long-running project, probably. Some amount of stranglers left behind. Some cleanup should have
been done before, but wasn&#39;t. Needs to be done now.</p>
<h3 id="7-1-7-improve-user-documentation">7.1.7 Improve user documentation</h3>
<p>generate images for every release (automation)</p>
<h3 id="7-1-8-deprecate-usage-of-ant">7.1.8 Deprecate usage of ant</h3>
<p>use maven for modules with rake for scripting &amp; buildr for installers. currently we use ant for building osx installer.</p>
<h3 id="7-1-9-upgrade-jetty-6-1-23-9-1-3">7.1.9 Upgrade jetty 6.1.23 -&gt; 9.1.3</h3>
<h3 id="7-1-10-make-server-agent-independent-of-jetty-so-that-we-can-support-all-servers-">7.1.10 Make server &amp; agent independent of jetty so that we can support all servers.</h3>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../7/7.1.html" class="navigation navigation-prev navigation-unique"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
